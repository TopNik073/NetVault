# NetVault

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ TCP –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –°–µ—Ä–≤–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–∞–π–ª–æ–≤.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–∞—Ä–æ–ª–µ–π (bcrypt)
- üìÅ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏: –∑–∞–≥—Ä—É–∑–∫–∞, —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞
- üìÇ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–¥–ø–∞–ø–æ–∫
- üîÑ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- üìä –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
- üõ°Ô∏è –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Ç–µ–π –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç path traversal
- üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python >= 3.13
- uv (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –∏–ª–∏ pip

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º uv
uv sync

# –ò–ª–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º pip
pip install -e .
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
python -m src.main server
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `localhost:8000` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CLI –∫–ª–∏–µ–Ω—Ç–∞

#### –û–±—ã—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python -m src.main register --login username --password password

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
python -m src.main login --login username --password password

# –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å --login –∏ --password –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
python -m src.main list [path] [--login username] [--password password]

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å --login –∏ --password –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
python -m src.main put local_file.txt remote_file.txt [--login username] [--password password]

# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞ (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å --login –∏ --password –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
python -m src.main get remote_file.txt local_file.txt [--login username] [--password password]

# –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏–ª–∏ –ø–∞–ø–∫–∏ (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å --login –∏ --password –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
python -m src.main delete path/to/file [--login username] [--password password]
```

#### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –º–µ–∂–¥—É –∫–æ–º–∞–Ω–¥–∞–º–∏:

```bash
python -m src.main interactive
```

–í –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ –¥–æ—Å—Ç—É–ø–Ω—ã –∫–æ–º–∞–Ω–¥—ã:
- `login <–ª–æ–≥–∏–Ω> <–ø–∞—Ä–æ–ª—å>` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `register <–ª–æ–≥–∏–Ω> <–ø–∞—Ä–æ–ª—å>` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `list [path]` - —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
- `get <remote> <local>` - —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª
- `put <local> <remote>` - –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
- `delete <path>` - —É–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª/–ø–∞–ø–∫—É
- `help` - —Å–ø—Ä–∞–≤–∫–∞
- `exit` - –≤—ã—Ö–æ–¥

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ client/             # –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å
‚îÇ   ‚îú‚îÄ‚îÄ cli.py          # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (click)
‚îÇ   ‚îú‚îÄ‚îÄ client.py       # TCP –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ protocol.py     # –ü—Ä–æ—Ç–æ–∫–æ–ª –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏
‚îú‚îÄ‚îÄ server/             # –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π TCP —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ server.py       # TCP —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ auth.py         # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ storage.py      # –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚îÇ   ‚îî‚îÄ‚îÄ protocol.py     # –ü—Ä–æ—Ç–æ–∫–æ–ª –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏
‚îî‚îÄ‚îÄ utils/              # –£—Ç–∏–ª–∏—Ç—ã
    ‚îú‚îÄ‚îÄ config.py       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ constants.py    # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
    ‚îú‚îÄ‚îÄ exceptions.py   # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ logger.py       # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    ‚îú‚îÄ‚îÄ security.py     # –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
    ‚îî‚îÄ‚îÄ types.py        # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
```

### –ü—Ä–æ—Ç–æ–∫–æ–ª –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏

- **JSON –∫–æ–º–∞–Ω–¥—ã**: –ö–æ–º–∞–Ω–¥—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON —Å –ø–æ–ª–µ–º `command`
- **–ë–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –§–∞–π–ª—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –±–∏–Ω–∞—Ä–Ω–æ –ø–æ—Å–ª–µ JSON –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- **–§–æ—Ä–º–∞—Ç**: –î–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (4 –±–∞–π—Ç–∞) + –¥–∞–Ω–Ω—ã–µ

### –•—Ä–∞–Ω–∏–ª–∏—â–µ

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `users.json` (UUID, –ª–æ–≥–∏–Ω, —Ö–µ—à –ø–∞—Ä–æ–ª—è)
- –§–∞–π–ª—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ `storage/{user_uuid}/`
- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ –≤ `src/utils/config.py`:

- `HOST` - –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: localhost)
- `PORT` - –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8000)
- `CHUNK_SIZE` - —Ä–∞–∑–º–µ—Ä —á–∞–Ω–∫–∞ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ–∞–π–ª–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 65536 –±–∞–π—Ç)
- `MAX_FILE_SIZE` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1 GB)
- `MIN_PASSWORD_LENGTH` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 6)
- `MAX_LOGIN_LENGTH` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ª–æ–≥–∏–Ω–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 50)
- `MAX_PATH_LENGTH` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø—É—Ç–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 4096)

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
python -m src.main server

# 2. –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
python -m src.main register --login user1 --password pass123

# 3. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –≤ –∫–æ–º–∞–Ω–¥–µ
python -m src.main put ~/Documents/file.txt documents/file.txt --login user1 --password pass123

# 4. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
python -m src.main list --login user1 --password pass123

# 5. –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
python -m src.main get documents/file.txt ~/Downloads/file.txt --login user1 --password pass123

# 6. –£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
python -m src.main delete documents/file.txt --login user1 --password pass123
```

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

```bash
python -m src.main interactive

> login user1 pass123
–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞
> list
üìÑ file.txt (1024 –±–∞–π—Ç)
üìÅ documents
> put ~/test.txt test.txt
–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ (512 –±–∞–π—Ç)...
–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω: test.txt
> list
üìÑ file.txt (1024 –±–∞–π—Ç)
üìÑ test.txt (512 –±–∞–π—Ç)
üìÅ documents
> exit
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ü–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ bcrypt —Ö–µ—à–µ–π
- –ó–∞—â–∏—Ç–∞ –æ—Ç path traversal –∞—Ç–∞–∫
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤
- –ò–∑–æ–ª—è—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤:
- –ö–æ–Ω—Å–æ–ª—å
- –§–∞–π–ª `logs/app.log` (–ø—Ä–∏ log_to_file –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö)

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
uv sync

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
python -m src.main server

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–ª–∏–µ–Ω—Ç
python -m src.main interactive
```

### –ï—Å–ª–∏ –∏–º–µ–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π [Just](https://github.com/casey/just)
```bash
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
just run-server

# –ó–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞ –≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (—Å—Ä–∞–∑—É –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ)
just run-cli
```
